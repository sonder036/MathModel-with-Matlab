### 系统分析算法

> 				一般的抽象系统,如社会系统、经济系统、农业系统、生态系统、教育系统等都包含有许多种因素，多种因素共同作用的结果决定了该系统的发展态势。人们常常希望知道在众多的因素中，哪些是主要因素，哪些是次要因素；哪些因素对系统发展影响大，哪些因素对系统发展影响小；哪些因素对系统发展起推动作用需强化发展，哪些因素对系统发展起阻碍作用需加以抑制······这些都是系统分析中人们普遍关心的问题。例如,粮食生产系统，人们希望提高粮食总产量，而影响粮食总产量的因素是多方面的，有播种面积以及水利、化肥、土壤、种子、劳力、气候、耕作技术和政策环境等。为了实现少投入多产出，并取得良好的经济效益、社会效益和生态效益,就必须进行系统分析。

#### 灰色关联分析

##### 概述

数理统计中的回归分析、方差分析主成分分析等都是用来进行系统分析的方法。这些方法都有下述不足之处:

- 要求有大量数据,数据量少就难以找出统计规律

- 要求样本服从某个典型的概率分布,要求各因素数据与系统特征数据之间呈线性关系且各因素之间彼此无关,这种要求往往难以满足

- 计算量大,一般要靠计算机帮助

- 可能出现量化结果与定性分析结果不符的现象,导致系统的关系和规律遭到歪曲和颠倒

  		灰色关联分析方法弥补了采用数理统计方法作系统分析所导致的缺憾.它对样本量的多少和样本有无规律都同样适用，而且计算量小，十分方便，更不会出现量化结果与定性分析结果不符的情况。
  		灰色关联分析的基本思想是根据序列曲几何形状的相似程度来判断其联系是否紧密.曲线越接近，相应序列之间的关联度就越大，反之就越小。
  		对一个抽象的系统或现象进行分析，首先要选准反映系统行为特征的数据序列，称为找系统行为的映射量，用映射量来间接地表征系统行为.例如，用国民平均接受教育的年数来反映教育发达程度，用刑事案件的发案率来反映社会治安面貌和社会秩序，用医院挂号次数来反映国民的健康水平等.有了系统行为特征数提和相关因老的救据可作中冬个序列的图形从观上进行分析。
  
  > 当样本个体数较大时，一般用标准化回归，反正用灰色关联分析。

##### 步骤

1. 画统计图做出简单分析

2. 确定分析序列

   母序列（参考序列，母指标）：能反映系统行为特征的序列，类似于因变量 $Y$ ，此处记为 $X$

   子序列（比较序列，子指标）：能反映系统行为因素组成的序列，类似于自变量 $X$ ，此处记为 $x_1,x_2,...,x_n$
   
3. 对变量进行预处理（去除量纲，缩小变量范围简化计算）

   对母序列和子序列分别进行预处理：先求出每个指标的均值，在用该指标中每个元素除以其均值。

4. 计算子序列各个指标和母指标的关联系数

   记录两极最小差 $a$ 和两极最大差 $b$ 
   $$
   a=min_i\{min_k|X(k)-x_i(k)|\} \\
   b=max_i\{max_k|X(k)-x_i(k)|\} \\
   $$
   定义关联系数：
   $$
   \gamma(X(k),x_i(k))=\frac{a+\rho b}{|X(k)-x_i(k)|+\rho b}\ \ \ \ \ \ \ \rho 为分辨系数，一般取0.5
   $$
   
5. 定义 $X$ 和 $x_i$ 灰色关联度：
   $$
   \gamma (X,x_i)=\frac{1}{n} \sum^{n}_{k=1}\gamma (X(k),x_i(k))
   $$
   
6. 通过比较子序列和母序列的关联度得出结论：

   灰色关联度最大的子序列对母序列影响最大。

#### 代码

```matlab
load gdp.mat;
Mean=mean(gdp);
gdp=gdp./repmat(Mean,size(gdp,1),1);    %将Mean复制为size(gdp,1)行的矩阵
disp('预处理后矩阵为:');
disp(gdp);

Y=gdp(:,1);                             %第一列为母序列
X=gdp(:,2:end);                         %其余列为子序列
abs_X_Xi=abs(X-repmat(Y,1,size(X,2)));  %计算|X-xi|矩阵
a=min(min(abs(abs_X_Xi)));              %计算两极最小差
b=max(max(abs(abs_X_Xi)));              %计算两极最大差
rho=0.5;                                %定义分辨系数
gamma=(a+rho*b)./(abs_X_Xi+rho*b);      %计算关联系数
disp('各子序列灰色关联度为:')
disp(mean(gamma));
```

### 回归分析

> 				回归分析是数据分析中最基础也是最重要的分析工具，绝大多数的 数据分析问题，都可以使用回归的思想来解决。回归分析的任务就是， 通过研究自变量X和因变量Y的相关关系，尝试去解释Y的形成机制，进而达到通过X去预测Y的目的。 常见的回归分析有五类：线性回归、0‐1回归、定序回归、计数回归和生存回归，其划分的依据是因变量Y的类型。本讲我们主要学习线性回归。

##### 回归分析的使命

- 回归分析要去识别并判断：哪些$X$变量是同$Y$真的相关，哪些不是。 统计学中有一个非常重要的领域，叫做“变量选择”。（逐步回归法）
- 去除了那些同$Y$不相关的$X$变量，那么剩下的，就都是重要的、有用的$X$变量了。接下来回归分析要回答的问题是：这些有用的$X$变量同$Y$的相关 关系是正的呢，还是负的？
- 在确定了重要的$X$变量的前提下，我们还想赋予不同$X$不同的权重， 也就是不同的回归系数，进而我们可以知道不同变量之间的相对重要性。

##### 数据的分类

- 横截面数据：在某一时点收集的不同对象的数据。

  	（1）我们自己发放问卷得到的数据 
	
  	（2）全国各省份2018年GDP的数据 
	
  	（3）大一新生今年体测的得到的数据

- 时间序列数据：对同一对象在不同时间连续观察所取得的数据。

  	（1）从出生到现在，你的体重的数据（每年生日称一次)。 
	
  	（2）中国历年来GDP的数据。 
	
  	（3）在某地方每隔一小时测得的温度数据。

- 面板数据：横截面数据与时间序列数据综合起来的一种数据资源。

  	2008‐2018年，我国各省份GDP的数据。

| 数据类型     | 常见建模方法                                |
| ------------ | ------------------------------------------- |
| 横截面数据   | 多元线性回归                                |
| 时间序列数据 | 移动平均，指数平滑，ARIMA，CARCH，VAR，协积 |
| 面板数据     | 固定效应和随机效应，静态面板和动态面板      |

前两种数据类型最常考到；面板数据较为复杂，是经管类学生在中级计量经济学中才会学到的模型。 横截面数据往往可以使用回归来进行建模，我们通过回归可以得到自变量与因变量之间的相关关系以及自变量的重要程度。 时间序列数据往往需要进行我们进行`预测`，时间序列模型的选择也很多， 大家需要选择合适的模型对数据进行建模。


#### 一元线性回归分析

内容近似为线性拟合。